<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>个人博客搭建笔记 | Myblog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="疫情被困在老家两个月，年前回家的时候是计划二月初就回校准备毕业论文的，书和笔记本都没带回来，这下可好，呵呵。幸亏老家还有一台旧电脑，拼死拼活把毕设做好了初稿，还是闲着没事干怎么办？不如来搭建一下个人博客吧。几年前有试着去做过几次，但都因为觉得太麻烦而半途而废了。这次一定要克服这种知难而退的坏毛病！ 博客平台的选择：可以选择GitHub，cnblog，或者csdn。csdn广告可以理解但是着实让人头">
<meta property="og:type" content="article">
<meta property="og:title" content="个人博客搭建笔记">
<meta property="og:url" content="http://yoursite.com/2020/04/01/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Myblog">
<meta property="og:description" content="疫情被困在老家两个月，年前回家的时候是计划二月初就回校准备毕业论文的，书和笔记本都没带回来，这下可好，呵呵。幸亏老家还有一台旧电脑，拼死拼活把毕设做好了初稿，还是闲着没事干怎么办？不如来搭建一下个人博客吧。几年前有试着去做过几次，但都因为觉得太麻烦而半途而废了。这次一定要克服这种知难而退的坏毛病！ 博客平台的选择：可以选择GitHub，cnblog，或者csdn。csdn广告可以理解但是着实让人头">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-01T14:55:52.468Z">
<meta property="article:modified_time" content="2020-04-02T04:31:15.156Z">
<meta property="article:author" content="Joyfulmika">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Myblog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Myblog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-个人博客搭建笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/01/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2020-04-01T14:55:52.468Z" itemprop="datePublished">2020-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      个人博客搭建笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>疫情被困在老家两个月，年前回家的时候是计划二月初就回校准备毕业论文的，书和笔记本都没带回来，这下可好，呵呵。幸亏老家还有一台旧电脑，拼死拼活把毕设做好了初稿，还是闲着没事干怎么办？不如来搭建一下个人博客吧。几年前有试着去做过几次，但都因为觉得太麻烦而半途而废了。这次一定要克服这种知难而退的坏毛病！</p>
<h2 id="博客平台的选择："><a href="#博客平台的选择：" class="headerlink" title="博客平台的选择："></a>博客平台的选择：</h2><p>可以选择GitHub，cnblog，或者csdn。csdn广告可以理解但是着实让人头疼，而GitHub和cnblog不仅无广告而且内容完全可定制，搭建起来更能锻炼自己。</p>
<h2 id="web框架配置"><a href="#web框架配置" class="headerlink" title="web框架配置"></a>web框架配置</h2><p>个人博客是轻量级的网站，与之对应的静态web框架可以使用jekyll或者hexo。</p>
<h3 id="1-jekyll"><a href="#1-jekyll" class="headerlink" title="1. jekyll"></a>1. jekyll</h3><p>jekyll:(<a href="https://www.jekyll.com.cn/" target="_blank" rel="noopener">https://www.jekyll.com.cn/</a>) 按照官网的话说是一个可以将纯文本转化为静态网站和博客的框架，他依赖完整的ruby开发环境。<br><br>jekyll的工程文件夹层次分明，资源分门别类摆放，需要使用时只需要把写好的博客放到特定文件夹，然后ruby编译一下就可以自动生成好网页。<br><br>听上去好像非常简单，所以我先选择使用jekyll。</p>
<h3 id="2-jekyll环境配置"><a href="#2-jekyll环境配置" class="headerlink" title="2. jekyll环境配置"></a>2. jekyll环境配置</h3><p>jekyll依赖ruby开发环境，那就先扯一下红宝石ruby吧。按照菜鸟教程说法，ruby是开源的、面向对象的、服务器端的脚本语言，（面向对象OOP：对象指的是类的实例，就是通过构造类并封装数据和函数的一种编程思想）一生之敌是python。红宝石比蟒蛇年轻，且专注于构建网站，也成就了包括twitter、airbnb、gayhub的门户网站。不过现在⑧太行了，大家都去搞golang了，但至少瘦死的骆驼比马壮，还能再坚挺个二十年吧！<br></p>
<p>ruby的官方支持平台包括mac和ubuntu等一众linux发行版系统，就是不包括windows。不过还好，有专门的rubyinstaller软件提供图形化安装操作。下载地址:(<a href="https://rubyinstaller.org/" target="_blank" rel="noopener">https://rubyinstaller.org/</a>)<br>安装程序最后会问你要不要运行ridk install，其解释是用来安装gem和原生扩展。gem（rubygems简写）是ruby的包管理器，类似于pip之于python。ok，那就下了。<br><br>gem的安装脚本会提供三种安装选项，基本安装、自定义安装和带mingw的完全安装，正好我电脑里还没有c++编译器，果断选3。安装完到cmd确认一下两样玩意的环境变量有没有问题。<br><br>为了减少项目之间的依赖性，可以考虑下载一下ruby的gem多版本管理器，叫bundle。<br></p>
<p>到此位置jekyll的环境配置完成，使用命令<code>gem install bundle jekyll</code>安装bundle和jekyll。然后终端就卡住了…把不是必须的bundle删掉再来一遍还是卡住了。ok，老生常谈的换源解决国情问题，使用命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gem sources --add http:&#x2F;&#x2F;gems.ruby-china.org&#x2F; </span><br><span class="line">gem sources --remove https:&#x2F;&#x2F;rubygems.org&#x2F;</span><br></pre></td></tr></table></figure>
<p>替换国内源，满怀希望重新install，还是卡…算了，换一个，jekyll下次再研究。</p>
<h3 id="3-hexo环境配置"><a href="#3-hexo环境配置" class="headerlink" title="3. hexo环境配置"></a>3. hexo环境配置</h3><p><a href="https://hexo.io/" target="_blank" rel="noopener">hexo</a>也是一个轻量级的快速博客框架，依靠Node.js给他带来了很快的生成速度、支持MD语言、上传gayhub便捷，还支持支持插件，看杀过去还不错。<br><br>说到hexo就要谈谈它的爹，大名鼎鼎的Node.js。本来Js（Javascript语言，或者说ECMAscript）是运行在前端、可嵌入到html里的脚本语言，在服务器端是不能直接跑的（跑的话要跑在JSP，java server page文件里）。<br>后来随着前后端的趋同发展，前端基于js出现了jquery库简化了dom操作，后端则出现了Node.js直接提供了js的运行环境，让前端程序员需要参与后端设计的时候不会被不认识的ruby、java、python程序难倒，属实牛逼。<br></p>
<p>去<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Nodejs下载</a>，牛逼新版本还能支持32位，这让我家里这台十年前的老电脑老泪纵横，当然更让人流泪的是它的下载速度。莫得办法，挂梯子下吧。安装程序一路点下一步就行，它会自动帮忙安装node的包管理工具npm。安装完毕后进终端检查一下这两个玩意弄好没有。<br></p>
<p>环境配置完毕，<code>npm install hexo -g</code>开始hexo安装，又是蜗牛般的速度，<code>npm config set -g registry https://registry.npm.taobao.org</code>进行npm淘宝换源，速度杠杠滴。<br><br>cmd检查<code>hexo -v</code>，报错:“无法加载文件 C:\Users\Admin\AppData\Roaming\npm\hexo.ps1，因为在此系统上禁止运行脚本”。mua的。百度得到的说法是首次在计算机上启动 Windows PowerShell 时，现用执行策略很可能是 Restricted（默认设置）。Restricted 策略不允许任何脚本运行。<br><br>键入命令<code>get-executionpolicy</code>检查策略的确如此。fine。键入<code>set-executionpolicy remotesigned</code>修改策略为允许运行不信任的脚本（你怕不是非微软出的就都不信任哦），注意此命令要在管理员权限下运行。弹出的选项选择[A]全是。重新检查一下，策略变成了RemoteSigned。重新<code>hexo -v</code>，弹出相关配置属性，安装成功。</p>
<h3 id="4-hexo安装配置"><a href="#4-hexo安装配置" class="headerlink" title="4. hexo安装配置"></a>4. hexo安装配置</h3><p>进入博客资源文件夹，打开cmd，输入<code>hexo init</code>（文件夹一定要是空的，奇怪的要求）初始化他会从github里clone模板下来，又是要等一万年，睡了睡了~<br><br>半夜起来发现下载崩溃了。hexo直接都没了，行吧，用推荐的指令<code>npm install hexo --save</code>重下，然后重新初始化。<br><br>第二天起床，出现有“start with hexo”字样说明搞定了。<br><br>中间出现了“looking for funding”的字样，查了之后说是你可以用<code>npm fund</code>查找并支持这些包的开发商，那敢情好，下次一定下次一定。<br><br>命令<code>hexo -g</code>直接生成网页静态文件，命令<code>hexo s</code>启动服务器，默认端口4000。<br><br>网页构造成功，默认界面还挺好看！<br><br>hexo的目录结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|-- _config.yml     ----全局配置文件</span><br><span class="line">|-- package-lock.json</span><br><span class="line">|-- package.json    ----hexo框架的参数和所依赖插件</span><br><span class="line">|-- scaffolds		----脚手架，新建文章时hexo会用这个目录的文件构建</span><br><span class="line">|-- source			----资源目录</span><br><span class="line">   |-- _posts		----存放新建博文</span><br><span class="line">|-- themes			----网站主题目录，每个子目录对应一主题，landscape为默认</span><br><span class="line">|-- public          ----存放编译后md文件生成的html界面</span><br><span class="line">|-- .gitignore		----git过滤规则文件</span><br></pre></td></tr></table></figure>
<p>搭建网站要配置的地方不算很多，详细的配置说明下一篇博文再见吧。</p>
<h3 id="5-hexo连接git"><a href="#5-hexo连接git" class="headerlink" title="5.hexo连接git"></a>5.hexo连接git</h3><p>首先是git要设置用户名和邮箱：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;用户名</span><br><span class="line">$ git config --global user.email 邮箱@example.com</span><br></pre></td></tr></table></figure>
<p>本地git生成rsa密钥，在github上添加，本地命令<code>ssh -T git@github.com</code>查询，得到<code>Hi，用户名</code> 字样的响应就能确定git和github连上了。<br><br>打开配置文件_config.yml，找到deployment部分进行填写，注意冒号后一定要有空格,不然这一行识别失败。</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:name/example.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<p>在上传之前，先下载一个相关插件<code>hexo-deployer-git</code>。博客根目录打开cmd输入：</p>
<figure class="highlight plain"><figcaption><span>install hexo-deployer-git --save```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">安装完毕后，在博客根目录打开Git Bash（用win自带的cmd听说可能有权限问题？？），运行命令：</span><br></pre></td></tr></table></figure>
<p>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</p>
<pre><code>清缓存、重新生成、上传一气呵成。



</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/04/01/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/" data-id="ck8i9i8760001q4u78ofd9wpk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/04/02/Hexo%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hexo配置笔记
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/02/Hexo%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0/">Hexo配置笔记</a>
          </li>
        
          <li>
            <a href="/2020/04/01/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AC%94%E8%AE%B0/">个人博客搭建笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Joyfulmika<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>